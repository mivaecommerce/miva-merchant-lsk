<MIVA STANDARDOUTPUTLEVEL = "">

<MvCOMMENT>
|
| Miva Merchant
|
| This file and the source codes contained herein are the property of
| Miva, Inc.  Use of this file is restricted to the specific terms and
| conditions in the License Agreement associated with this file.  Distribution
| of this file or portions of this file for uses not covered by the License
| Agreement is not allowed without a written agreement signed by an officer of
| Miva, Inc.
|
| Copyright 1998-2025 Miva, Inc.  All rights reserved.
| http://www.miva.com
|
| Prefix         : MER-CMP-MV-THEME-
| Next Error Code: 3
|
</MvCOMMENT>

<MvFUNCTION NAME = "Module_Description" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvASSIGN NAME = "l.module:code"		VALUE = "mmlsk-cmp-mv-theme">
	<MvASSIGN NAME = "l.module:name"		VALUE = "Theme Component">
	<MvASSIGN NAME = "l.module:provider"	VALUE = "Miva Merchant">
	<MvASSIGN NAME = "l.module:version"		VALUE = "10.1200">
	<MvASSIGN NAME = "l.module:api_ver"		VALUE = "10.12">
	<MvASSIGN NAME = "l.module:features"	VALUE = "component, data_store, util, cssresource, not_theme">
</MvFUNCTION>

<MvCOMMENT>
|
| Feature: data_store
|
</MvCOMMENT>

<MvFUNCTION NAME = "Module_Install_Store" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvCOMMENT>
	|
	| Pre-generate font embed codes
	|
	</MvCOMMENT>

	<MvIF EXPR = "{ NOT FontEmbed_Generate() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| Create "theme" item
	|
	</MvCOMMENT>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].Item_Load_Code( 'mm_theme', l.null ) }">
		<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_MGR ].TemplateManager_Create_Item( 'mm_theme', l.module:code ) }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>
	</MvIF>

	<MvCOMMENT>
	|
	| Create "mm-theme-styles" CSS resource
	|
	</MvCOMMENT>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].CSSResource_Load_Code( 'mm-theme-styles', l.null ) }">
		<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_MGR ].TemplateManager_Load_Theme( l.theme ) }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>

		<MvEVAL EXPR = "{ StyleResource_Generate_Content( l.theme, l.content ) }">

		<MvASSIGN NAME = "l.null" VALUE = "{ [ g.Module_Feature_TUI_UT ].CSSResource_Default_Attributes( 'Z', l.cssresource_attributes ) }">

		<MvIF EXPR = "{ [ g.Module_Feature_TUI_DB ].CSSResource_Create_Type_ModuleManaged( 'mm-theme-styles', l.cssresource_attributes, 1, 1, l.module:code, l.content, l.cssresource ) }">
			<MvIF EXPR = "{ [ g.Module_Feature_TUI_DB ].ResourceGroup_Load_Code( 'modules', l.module_resourcegroup ) }">
				<MvASSIGN NAME = "l.null" VALUE = "{ [ g.Module_Feature_TUI_DB ].CSSResourceXGroup_Insert( l.cssresource:id, l.module_resourcegroup:id ) }">
			</MvIF>
		</MvIF>
	</MvIF>

	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "Module_Upgrade_Store" PARAMETERS = "module var, version" STANDARDOUTPUTLEVEL = "">
	<MvIF EXPR = "{ l.module:version EQ l.version }">
		<MvFUNCTIONRETURN VALUE = 1>
	</MvIF>

	<MvFUNCTIONRETURN VALUE = "{ [ g.Module_Library_Utilities ].Error( 'MER-CMP-MV-THEME-00001', 'Module \'' $ l.module:name $ '\' does not support manual upgrade.  New versions may only be obtained through the streaming update system.' ) }">
</MvFUNCTION>

<MvFUNCTION NAME = "Module_Uninstall_Store" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvASSIGN NAME = "l.null" VALUE = "{ [ g.Module_Feature_TUI_MGR ].TemplateManager_GlobalDelete_CSSResource_Code( 'mm-theme-styles' ) }">

	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvCOMMENT>
|
| Store Utilities Feature (util)
|
</MvCOMMENT>

<MvFUNCTION NAME = "StoreUtilityModule_LeftNavigation_Privileges" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = -1>
</MvFUNCTION>

<MvFUNCTION NAME = "StoreUtilityModule_LeftNavigation" PARAMETERS = "module var, indent" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "StoreUtilityModule_Screen_Privileges" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "StoreUtilityModule_Screen" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "StoreUtilityModule_Validate" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "StoreUtilityModule_Action_Privileges" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = -1>
</MvFUNCTION>

<MvFUNCTION NAME = "StoreUtilityModule_Action" PARAMETERS = "module var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvCOMMENT>
|
| Theme Change Notification Feature (not_theme)
|
</MvCOMMENT>

<MvFUNCTION NAME = "Module_Notify_Theme_Update" PARAMETERS = "module var, theme var" STANDARDOUTPUTLEVEL = "">
	<MvIF EXPR = "{ NOT FontEmbed_Generate() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvFUNCTIONRETURN VALUE = "{ StyleResource_Update( l.module, l.theme ) }">
</MvFUNCTION>

<MvCOMMENT>
|
| Component Feature (component)
|
</MvCOMMENT>

<MvFUNCTION NAME = "ComponentModule_Tabs" PARAMETERS = "module var, item, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = "">
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Validate" PARAMETERS = "module var, item, field_prefix, fields var, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Update_Requires_Version" PARAMETERS = "module var, page var, item, field_prefix, fields var, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 0>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Update" PARAMETERS = "module var, item, field_prefix, fields var, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_PostUpdate" PARAMETERS = "module var, page var, item, field_prefix, fields var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Content" PARAMETERS = "module var, item, tab, load_fields, field_prefix, fields var, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Defaults" PARAMETERS = "module var, item, settings var" STANDARDOUTPUTLEVEL = "">
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Initialize" PARAMETERS = "module var, item, all_settings var, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = "{ [ g.Module_Feature_TUI_MGR ].TemplateManager_Load_Theme( l.settings ) }">
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Page_Assign" PARAMETERS = "module var, page var, item, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Page_Unassign" PARAMETERS = "module var, page var, item, settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Page_Copy" PARAMETERS = "module var, item, source_branch var, source_page var, source_settings var, dest_branch var, dest_page var, dest_settings var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Prerender" PARAMETERS = "module var, item, all_settings var, settings var, param" STANDARDOUTPUTLEVEL = "">
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Render_Head" PARAMETERS = "module var, item, all_settings var, settings var" STANDARDOUTPUTLEVEL = "">
	<MvIF EXPR = "{ [ g.Module_Feature_TUI_DB ].Runtime_ManagedProperty_Load_Code( 'mm_theme', 'fonts', l.managedproperty ) }">
		<MvEVAL EXPR = "{ l.managedproperty:content:content }">
	</MvIF>
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Render_Start" PARAMETERS = "module var, item, all_settings var, settings var, param" STANDARDOUTPUTLEVEL = "">
</MvFUNCTION>

<MvFUNCTION NAME = "ComponentModule_Render_End" PARAMETERS = "module var, item, all_settings var, settings var, param" STANDARDOUTPUTLEVEL = "">
</MvFUNCTION>

<MvCOMMENT>
|
| Module CSS Resource Feature (cssresource)
|
</MvCOMMENT>

<MvFUNCTION NAME = "CSSResourceModule_Resource_Render" PARAMETERS = "module var, cssresource var" STANDARDOUTPUTLEVEL = "">
</MvFUNCTION>

<MvFUNCTION NAME = "CSSResourceModule_Resource_LastModified" PARAMETERS = "module var, cssresource var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = "">
</MvFUNCTION>

<MvFUNCTION NAME = "CSSResourceModule_Resource_Integrity" PARAMETERS = "module var, cssresource var" STANDARDOUTPUTLEVEL = "">
	<MvFUNCTIONRETURN VALUE = "">
</MvFUNCTION>

<MvFUNCTION NAME = "CSSResourceModule_Render_CSSResource" PARAMETERS = "module var, cssresource var, group_code, all_settings var" STANDARDOUTPUTLEVEL = "">
	<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_MGR ].TemplateManager_Preview_Theme_Active() }">		<MvFUNCTIONRETURN VALUE = 0>
	<MvELSEIF EXPR = "{ NOT [ g.Module_Feature_TUI_MGR ].TemplateManager_Load_Theme( l.theme ) }">	<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvEVAL EXPR = "{ StyleResource_Generate_Content( l.theme, l.content ) }">

	<MvEVAL EXPR = "<style type=\"text/css\"">

	<MvIF EXPR = "{ NOT ISNULL l.group_code }">
		<MvEVAL EXPR = "{ ' data-resource-group="' $ encodeentities( l.group_code ) $ '"' }">
	</MvIF>

	<MvEVAL EXPR = "{ ' data-resource-code="' $ encodeentities( l.cssresource:code ) $ '">' }">
	<MvEVAL EXPR = "{ l.content }">
	<MvEVAL EXPR = "</style>">

	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvCOMMENT>
|
| Helper Functions
|
</MvCOMMENT>

<MvFUNCTION NAME = "FontEmbed_Generate" STANDARDOUTPUTLEVEL = "">
	<MvASSIGN NAME = "l.rendered_font_lookup"	VALUE = "">
	<MvASSIGN NAME = "l.google_fonts"			VALUE = "">
	<MvASSIGN NAME = "l.google_font_count"		VALUE = 0>

	<MvCAPTURE VARIABLE = "l.combined_embed_code">
		<MvFOREACH ITERATOR = "l.font" ARRAY = "l.fonts" COUNT = "{ [ g.Module_Feature_TUI_DB ].FontList_Load_Active( l.fonts ) }">
			<MvIF EXPR = "{ l.font:type EQ 'google' }">
				<MvASSIGN NAME = "l.google_font_count" VALUE = "{ miva_array_insert_var( l.google_fonts, l.font, -1 ) }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvIF EXPR = "{ ISNULL l.font:embed }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvREFERENCEARRAY NAME = "l.embed_output" VARIABLE = "l.rendered_font_lookup">
				<MvMEMBER NAME = "{ crypto_md5( trim( l.font:embed ) ) }">
			</MvREFERENCEARRAY>

			<MvIF EXPR = "{ NOT l.embed_output }">
				<MvASSIGN NAME = "l.embed_output" VALUE = 1>

				<MvEVAL EXPR = "{ l.font:embed }">
			</MvIF>
		</MvFOREACH>

		<MvASSIGN NAME = "l.google_font_output" VALUE = "{ FontEmbedGenerator_Google( l.google_fonts, l.google_font_count ) }">

		<MvREFERENCEARRAY NAME = "l.embed_output" VARIABLE = "l.rendered_font_lookup">
			<MvMEMBER NAME = "{ crypto_md5( trim( l.google_font_output ) ) }">
		</MvREFERENCEARRAY>

		<MvIF EXPR = "{ NOT l.embed_output }">
			<MvEVAL EXPR = "{ l.google_font_output }">
		</MvIF>
	</MvCAPTURE>

	<MvIF EXPR = "{ ISNULL l.combined_embed_code }">
		<MvASSIGN NAME = "l.content_id" VALUE = 0>
	<MvELSE>
		<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].ManagedContent_FindOrInsert( l.combined_embed_code, l.managedcontent ) }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>

		<MvASSIGN NAME = "l.content_id" VALUE = "{ l.managedcontent:id }">
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].ManagedPropertyAndVersion_Load_Code_Current( 'mm_theme', 'fonts', l.managedproperty ) }">
		<MvIF EXPR = "{ NOT [ g.Module_Library_DB ].Error_Is_EOF() }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>

		<MvASSIGN NAME = "l.settings" VALUE = "{ [ g.Module_Feature_TUI_MGR ].TemplateManager_ManagedProperty_SettingsAndContent( l.null_settings, l.content_id ) }">

		<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_MGR ].TemplateManager_Create_ManagedProperty( 'mm_theme', 'fonts', '', l.null_template, l.settings, l.managedproperty ) }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>
	<MvELSEIF EXPR = "{ l.managedproperty:version:content_id NE l.content_id }">
		<MvASSIGN NAME = "l.settings" VALUE = "{ [ g.Module_Feature_TUI_MGR ].TemplateManager_ManagedProperty_SettingsAndContent( l.managedproperty:version:settings, l.content_id ) }">

		<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_MGR ].TemplateManager_Create_ManagedPropertyVersion( l.managedproperty, l.settings ) }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>		
	</MvIF>

	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "FontEmbedGenerator_Google" PARAMETERS = "fonts var, font_count" STANDARDOUTPUTLEVEL = "">
	<MvIF EXPR = "{ l.font_count EQ 0 }">
		<MvFUNCTIONRETURN VALUE = "">
	</MvIF>

	<MvCOMMENT>
	|
	| This function takes a list of Miva Merchant fonts and converts them into Google's Font API
	| format. The generated font structure here matches the corresponding JavaScript helper
	| function FontEmbedGenerator_Google.
	|
	</MvCOMMENT>

	<MvCAPTURE VARIABLE = "l.output">
		<MvASSIGN NAME = "l.familylist" VALUE = "">

		<MvFOREACH ITERATOR = "l.font" ARRAY = "l.fonts" COUNT = "{ l.font_count }">
			<MvIF EXPR = "{ ISNULL l.font:google_font_name }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvASSIGN NAME = "l.family" VALUE = "{ 'family=' $ encodeattribute( l.font:google_font_name ) $ ':' }">

			<MvIF EXPR = "{ l.font:styles:italic }">
				<MvASSIGN NAME = "l.family" VALUE = "{ l.family $ 'ital,' }">
			</MvIF>

			<MvASSIGN NAME = "l.normal_map"		VALUE = "">
			<MvASSIGN NAME = "l.normal_count"	VALUE = 0>

			<MvASSIGN NAME = "l.italic_map"		VALUE = "">
			<MvASSIGN NAME = "l.italic_count"	VALUE = 0>

			<MvFOREACH ITERATOR = "l.weight_key" ARRAY = "l.weight_keys" COUNT = "{ miva_struct_members( l.font:weights, l.weight_keys ) }">
				<MvREFERENCEARRAY NAME = "l.weight" VARIABLE = "l.font:weights">
					<MvMEMBER NAME = "{ l.weight_key }">
				</MvREFERENCEARRAY>

				<MvIF EXPR = "{ NOT l.weight }">
					<MvFOREACHCONTINUE>
				</MvIF>

				<MvIF EXPR = "{ l.font:styles:normal }"> <MvASSIGN NAME = "l.normal_count" VALUE = "{ miva_array_insert( l.normal_map, ternary( l.font:styles:italic, '0,', '' ) $ l.weight_key, -1 ) }">	</MvIF>
				<MvIF EXPR = "{ l.font:styles:italic }"> <MvASSIGN NAME = "l.italic_count" VALUE = "{ miva_array_insert( l.italic_map, '1,' $ l.weight_key, -1 ) }">										</MvIF>
			</MvFOREACH>

			<MvASSIGN NAME = "l.normal_count"	VALUE = "{ miva_array_merge_ref( l.italic_map, 1, l.italic_count, l.normal_map, -1 ) }">
			<MvASSIGN NAME = "l.family"			VALUE = "{ l.family $ 'wght@' $ miva_joinstring( l.normal_map, ';', 'noempty' ) }">
			<MvASSIGN NAME = "l.family_count"	VALUE = "{ miva_array_insert_var( l.familylist, l.family, -1 ) }">
		</MvFOREACH>

		<MvEVAL EXPR = "{ '<link rel="preconnect" href="https://fonts.googleapis.com">' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ '<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ '<link href="https://fonts.googleapis.com/css2?' $ miva_joinstring( l.familylist, '&', '' ) $ '&display=swap" rel="stylesheet">' }">
	</MvCAPTURE>

	<MvFUNCTIONRETURN VALUE = "{ l.output }">
</MvFUNCTION>

<MvFUNCTION NAME = "StyleResource_Update" PARAMETERS = "module var, theme var" STANDARDOUTPUTLEVEL = "">
	<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].CSSResource_Load_Code( 'mm-theme-styles', l.cssresource ) }">
		<MvIF EXPR = "{ NOT [ g.Module_Library_DB ].Error_Is_EOF() }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>

		<MvFUNCTIONRETURN VALUE = "{ [ g.Module_Library_Utilities ].Error( 'MER-CMP-MV-THEME-00002', 'Resource not found' ) }">
	</MvIF>

	<MvASSIGN NAME = "l.original_cssresource" VALUE = "{ l.cssresource }">

	<MvEVAL EXPR = "{ StyleResource_Generate_Content( l.theme, l.content ) }">

	<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].ManagedContent_FindOrInsert( l.content, l.managedcontent ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvASSIGN NAME = "l.cssresource:content_id" VALUE = "{ l.managedcontent:id }">

	<MvIF EXPR = "{ l.cssresource:content_id NE l.original_cssresource:content_id }">
		<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].CSSResource_Update( l.cssresource ) }">
			<MvFUNCTIONRETURN VALUE = 0>
		</MvIF>
	</MvIF>

	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>

<MvFUNCTION NAME = "StyleResource_Generate_Content" PARAMETERS = "theme var, content var" STANDARDOUTPUTLEVEL = "">
	<MvCAPTURE VARIABLE = "l.content" STANDARDOUTPUTLEVEL = "">
		<MvFOREACH ITERATOR = "l.typography" ARRAY = "l.theme:typographies" COUNT = "{ l.theme:typography_count }">
			<MvIF EXPR = "{ ISNULL l.typography:classname }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvEVAL EXPR = "{ StyleResource_Generate_Typography( l.typography ) }">
		</MvFOREACH>

		<MvFOREACH ITERATOR = "l.button" ARRAY = "l.theme:buttons" COUNT = "{ l.theme:button_count }">
			<MvIF EXPR = "{ ISNULL l.button:classname }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvEVAL EXPR = "{ StyleResource_Generate_Button( l.button ) }">
		</MvFOREACH>

		<MvFOREACH ITERATOR = "l.breakpoint" ARRAY = "l.theme:layout:breakpoints" COUNT = "{ l.theme:layout:breakpoint_count }">
			<MvEVAL EXPR = "{ StyleResource_Generate_Breakpoint( l.theme, l.breakpoint ) }">
		</MvFOREACH>
	</MvCAPTURE>
</MvFUNCTION>

<MvFUNCTION NAME = "StyleResource_Generate_Typography" PARAMETERS = "typography var" STANDARDOUTPUTLEVEL = "">
	<MvEVAL EXPR = "{ '.' $ l.typography:classname $ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ '{' $ asciichar( 10 ) }">
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:color:value }">			<MvEVAL EXPR = "{ asciichar( 9 ) $ 'color: '			$ l.typography:styles:color:value $ ';'														$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:font:weight }">			<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-weight: '		$ l.typography:styles:font:weight $ ';'														$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:font:style }">			<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-style: '		$ l.typography:styles:font:style $ ';'														$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:font_size:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-size: '		$ l.typography:styles:font_size:value $ l.typography:styles:font_size:unit $ ';'			$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:line_height:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'line-height: '		$ l.typography:styles:line_height:value $ l.typography:styles:line_height:unit $ ';'		$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:letter_spacing:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'letter-spacing: '	$ l.typography:styles:letter_spacing:value $ l.typography:styles:letter_spacing:unit $ ';'	$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:text_transform:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-transform: '	$ l.typography:styles:text_transform:value $ ';'											$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:overflow_wrap:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'overflow-wrap: '	$ l.typography:styles:overflow_wrap:value $ ';'												$ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:white_space:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'white-space: '		$ l.typography:styles:white_space:value $ ';'												$ asciichar( 10 ) }"> </MvIF>

		<MvIF EXPR = "{ NOT ISNULL l.typography:styles:font:code }">
			<MvIF EXPR = "{ [ g.Module_Feature_TUI_DB ].Font_Load_Code( l.typography:styles:font:code, l.font ) }">
				<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-family: ' $ l.font:family $ ';' $ asciichar( 10 ) }">
			</MvIF>
		</MvIF>
	<MvEVAL EXPR = "{ '}' $ asciichar( 10 ) }">

	<MvIF EXPR = "{ l.typography:type EQ 'paragraph' AND NOT ISNULL l.typography:styles:paragraph_spacing:value }">
		<MvEVAL EXPR = "{ '.' $ l.typography:classname $ ' + .' $ l.typography:classname $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ '{' $ asciichar( 10 ) }">
			<MvEVAL EXPR = "{ asciichar( 9 ) $ 'margin-top: ' $ l.typography:styles:paragraph_spacing:value $ l.typography:styles:paragraph_spacing:unit $ ';' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ '}' $ asciichar( 10 ) }">
	</MvIF>
</MvFUNCTION>

<MvFUNCTION NAME = "StyleResource_Generate_Button" PARAMETERS = "button var" STANDARDOUTPUTLEVEL = "">
	<MvCOMMENT>
	|
	| Main Button Styles: .<button_classname>
	|
	</MvCOMMENT>

	<MvASSIGN NAME = "l.transitions"	VALUE = "">
	<MvASSIGN NAME = "l.null"			VALUE = "{ miva_array_insert( l.transitions, 'color 150ms ease-in-out',				-1 ) }">
	<MvASSIGN NAME = "l.null"			VALUE = "{ miva_array_insert( l.transitions, 'background-color 150ms ease-in-out',	-1 ) }">
	<MvASSIGN NAME = "l.null"			VALUE = "{ miva_array_insert( l.transitions, 'border-color 150ms ease-in-out',		-1 ) }">
	<MvASSIGN NAME = "l.null"			VALUE = "{ miva_array_insert( l.transitions, 'box-shadow 150ms ease-in-out',		-1 ) }">
	<MvASSIGN NAME = "l.null"			VALUE = "{ miva_array_insert( l.transitions, 'text-decoration 150ms ease-in-out',	-1 ) }">

	<MvEVAL EXPR = "{ '.' $ l.button:classname $ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ '{' $ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'position: relative;'												$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'display: inline-flex;'												$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'align-items: center;'												$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'justify-content: center;'											$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'white-space: nowrap;'												$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'box-sizing: border-box;'											$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'cursor: pointer;'													$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'transition: ' $ miva_joinstring( l.transitions, ', ', '' ) $ ';'	$ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'user-select: none;'													$ asciichar( 10 ) }">

	<MvIF EXPR = "{ NOT ISNULL l.button:styles:color:value }">						<MvEVAL EXPR = "{ asciichar( 9 ) $ 'color: '						$ l.button:styles:color:value $ ';'																			$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:font:weight }">						<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-weight: '					$ l.button:styles:font:weight $ ';'																			$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:font:style }">						<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-style: '					$ l.button:styles:font:style $ ';'																			$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:text_transform:value }">				<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-transform: '				$ l.button:styles:text_transform:value $ ';'																$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:overflow_wrap:value }">				<MvEVAL EXPR = "{ asciichar( 9 ) $ 'overflow-wrap: '				$ l.button:styles:overflow_wrap:value $ ';'																	$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:border_top_left_radius:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-top-left-radius: '		$ l.button:styles:border_top_left_radius:value $ l.button:styles:border_top_left_radius:unit $ ';'			$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:border_top_right_radius:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-top-right-radius: '		$ l.button:styles:border_top_right_radius:value $ l.button:styles:border_top_right_radius:unit $ ';'		$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:border_bottom_right_radius:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-bottom-right-radius: '	$ l.button:styles:border_bottom_right_radius:value $ l.button:styles:border_bottom_right_radius:unit $ ';'	$ asciichar( 10 ) }"> </MvIF>
	<MvIF EXPR = "{ NOT ISNULL l.button:styles:border_bottom_left_radius:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-bottom-left-radius: '	$ l.button:styles:border_bottom_left_radius:value $ l.button:styles:border_bottom_left_radius:unit $ ';'	$ asciichar( 10 ) }"> </MvIF>

	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'background-color: ' $ ternary( NOT ISNULL l.button:styles:background_color:value, l.button:styles:background_color:value, 'transparent' ) $ ';' $ asciichar( 10 ) }">

	<MvIF EXPR = "{ NOT ISNULL l.button:styles:font:code }">
		<MvIF EXPR = "{ [ g.Module_Feature_TUI_DB ].Font_Load_Code( l.button:styles:font:code, l.font ) }">
			<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-family: ' $ l.font:family $ ';' $ asciichar( 10 ) }">
		</MvIF>
	</MvIF>

	<MvIF EXPR = "{ l.button:styles:box_shadow_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'box-shadow:' }">

		<MvIF EXPR = "{ NOT ISNULL l.button:styles:box_shadow_inset:value }">
			<MvEVAL EXPR = "{ ' ' $ l.button:styles:box_shadow_inset:value }">
		</MvIF>

		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:styles:box_shadow_offset_x:value,	l.button:styles:box_shadow_offset_x:value $ l.button:styles:box_shadow_offset_x:unit,	'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:styles:box_shadow_offset_y:value,	l.button:styles:box_shadow_offset_y:value $ l.button:styles:box_shadow_offset_y:unit,	'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:styles:box_shadow_blur:value,		l.button:styles:box_shadow_blur:value $ l.button:styles:box_shadow_blur:unit,			'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:styles:box_shadow_spread:value,	l.button:styles:box_shadow_spread:value $ l.button:styles:box_shadow_spread:unit,		'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:styles:box_shadow_color:value,		l.button:styles:box_shadow_color:value,													'transparent' ) }">

		<MvEVAL EXPR = "{ ';' $ asciichar( 10 ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT l.button:styles:border_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border: none;' $ asciichar( 10 ) }">
	<MvELSE>
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-top-width: '		$ ternary( NOT ISNULL l.button:styles:border_top_width:value,		l.button:styles:border_top_width:value $ l.button:styles:border_top_width:unit,			'0' )			$ ';' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-right-width: '	$ ternary( NOT ISNULL l.button:styles:border_right_width:value,		l.button:styles:border_right_width:value $ l.button:styles:border_right_width:unit,		'0' )			$ ';' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-bottom-width: '	$ ternary( NOT ISNULL l.button:styles:border_bottom_width:value,	l.button:styles:border_bottom_width:value $ l.button:styles:border_bottom_width:unit,	'0' )			$ ';' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-left-width: '	$ ternary( NOT ISNULL l.button:styles:border_left_width:value,		l.button:styles:border_left_width:value $ l.button:styles:border_left_width:unit,		'0' )			$ ';' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-style: '			$ ternary( NOT ISNULL l.button:styles:border_style:value,			l.button:styles:border_style:value,														'solid' )		$ ';' $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-color: '			$ ternary( NOT ISNULL l.button:styles:border_color:value,			l.button:styles:border_color:value,														'transparent' )	$ ';' $ asciichar( 10 ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT l.button:styles:text_underline_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration: none;' $ asciichar( 10 ) }">
	<MvELSE>
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration-line: underline;' $ asciichar( 10 ) }">

		<MvIF EXPR = "{ NOT ISNULL l.button:styles:text_underline_thickness:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration-thickness: '	$ l.button:styles:text_underline_thickness:value $ l.button:styles:text_underline_thickness:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.button:styles:text_underline_offset:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-underline-offset: '		$ l.button:styles:text_underline_offset:value $ l.button:styles:text_underline_offset:unit			$ ';' $ asciichar( 10 ) }"> </MvIF>
	</MvIF>

	<MvEVAL EXPR = "{ '}' $ asciichar( 10 ) }">

	<MvCOMMENT>
	|
	| Main Button Styles: Hover State: .<button_classname>:hover
	|
	</MvCOMMENT>

	<MvEVAL EXPR = "{ '.' $ l.button:classname $ ':hover' $ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ '{' $ asciichar( 10 ) }">

	<MvIF EXPR = "{ NOT ISNULL l.button:hover_styles:color:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'color: ' $ l.button:hover_styles:color:value $ ';' $ asciichar( 10 ) }">
	</MvIF>

	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'background-color: ' $ ternary( NOT ISNULL l.button:hover_styles:background_color:value, l.button:hover_styles:background_color:value, 'transparent' ) $ ';' $ asciichar( 10 ) }">

	<MvIF EXPR = "{ l.button:styles:box_shadow_enabled:value AND NOT l.button:hover_styles:box_shadow_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'box-shadow: none;' $ asciichar( 10 ) }">
	<MvELSEIF EXPR = "{ l.button:hover_styles:box_shadow_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'box-shadow:' }">

		<MvIF EXPR = "{ NOT ISNULL l.button:hover_styles:box_shadow_inset:value }">
			<MvEVAL EXPR = "{ ' ' $ l.button:hover_styles:box_shadow_inset:value }">
		</MvIF>

		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:hover_styles:box_shadow_offset_x:value,	l.button:hover_styles:box_shadow_offset_x:value $ l.button:hover_styles:box_shadow_offset_x:unit,	'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:hover_styles:box_shadow_offset_y:value,	l.button:hover_styles:box_shadow_offset_y:value $ l.button:hover_styles:box_shadow_offset_y:unit,	'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:hover_styles:box_shadow_blur:value,		l.button:hover_styles:box_shadow_blur:value $ l.button:hover_styles:box_shadow_blur:unit,			'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:hover_styles:box_shadow_spread:value,		l.button:hover_styles:box_shadow_spread:value $ l.button:hover_styles:box_shadow_spread:unit,		'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:hover_styles:box_shadow_color:value,		l.button:hover_styles:box_shadow_color:value,														'transparent' ) }">

		<MvEVAL EXPR = "{ ';' $ asciichar( 10 ) }">
	</MvIF>

	<MvIF EXPR = "{ l.button:styles:border_enabled:value }">
		<MvIF EXPR = "{ NOT ISNULL l.button:hover_styles:border_color:value }">
			<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-color: ' $ l.button:hover_styles:border_color:value $ ';' $ asciichar( 10 ) }">
		</MvIF>
	</MvIF>

	<MvIF EXPR = "{ NOT l.button:hover_styles:text_underline_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration: none;' $ asciichar( 10 ) }">
	<MvELSE>
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration-line: underline;' $ asciichar( 10 ) }">

		<MvIF EXPR = "{ NOT ISNULL l.button:hover_styles:text_underline_thickness:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration-thickness: '	$ l.button:hover_styles:text_underline_thickness:value $ l.button:hover_styles:text_underline_thickness:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.button:hover_styles:text_underline_offset:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-underline-offset: '		$ l.button:hover_styles:text_underline_offset:value $ l.button:hover_styles:text_underline_offset:unit			$ ';' $ asciichar( 10 ) }"> </MvIF>
	</MvIF>

	<MvEVAL EXPR = "{ '}' $ asciichar( 10 ) }">

	<MvCOMMENT>
	|
	| Main Button Styles: Disabled State: .<button_classname>:disabled
	|
	</MvCOMMENT>

	<MvEVAL EXPR = "{ '.' $ l.button:classname $ ':disabled,' $ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ '.' $ l.button:classname $ '[disabled]' $ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ '{' $ asciichar( 10 ) }">
	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'cursor: not-allowed;' $ asciichar( 10 ) }">

	<MvIF EXPR = "{ NOT ISNULL l.button:disabled_styles:color:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'color: ' $ l.button:disabled_styles:color:value $ ';' $ asciichar( 10 ) }">
	</MvIF>

	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'background-color: ' $ ternary( NOT ISNULL l.button:disabled_styles:background_color:value, l.button:disabled_styles:background_color:value, 'transparent' ) $ ';' $ asciichar( 10 ) }">

	<MvIF EXPR = "{ ( l.button:styles:box_shadow_enabled:value OR l.button:hover_styles:box_shadow_enabled:value ) AND NOT l.button:disabled_styles:box_shadow_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'box-shadow: none;' $ asciichar( 10 ) }">
	<MvELSEIF EXPR = "{ l.button:disabled_styles:box_shadow_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'box-shadow:' }">

		<MvIF EXPR = "{ NOT ISNULL l.button:disabled_styles:box_shadow_inset:value }">
			<MvEVAL EXPR = "{ ' ' $ l.button:disabled_styles:box_shadow_inset:value }">
		</MvIF>

		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:disabled_styles:box_shadow_offset_x:value,	l.button:disabled_styles:box_shadow_offset_x:value $ l.button:disabled_styles:box_shadow_offset_x:unit,	'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:disabled_styles:box_shadow_offset_y:value,	l.button:disabled_styles:box_shadow_offset_y:value $ l.button:disabled_styles:box_shadow_offset_y:unit,	'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:disabled_styles:box_shadow_blur:value,		l.button:disabled_styles:box_shadow_blur:value $ l.button:disabled_styles:box_shadow_blur:unit,			'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:disabled_styles:box_shadow_spread:value,	l.button:disabled_styles:box_shadow_spread:value $ l.button:disabled_styles:box_shadow_spread:unit,		'0' ) }">
		<MvEVAL EXPR = "{ ' ' $ ternary( NOT ISNULL l.button:disabled_styles:box_shadow_color:value,	l.button:disabled_styles:box_shadow_color:value,														'transparent' ) }">

		<MvEVAL EXPR = "{ ';' $ asciichar( 10 ) }">
	</MvIF>

	<MvIF EXPR = "{ l.button:styles:border_enabled:value }">
		<MvIF EXPR = "{ NOT ISNULL l.button:disabled_styles:border_color:value }">
			<MvEVAL EXPR = "{ asciichar( 9 ) $ 'border-color: ' $ l.button:disabled_styles:border_color:value $ ';' $ asciichar( 10 ) }">
		</MvIF>
	</MvIF>

	<MvIF EXPR = "{ NOT l.button:disabled_styles:text_underline_enabled:value }">
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration: none;' $ asciichar( 10 ) }">
	<MvELSE>
		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration-line: underline;' $ asciichar( 10 ) }">

		<MvIF EXPR = "{ NOT ISNULL l.button:disabled_styles:text_underline_thickness:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-decoration-thickness: '	$ l.button:disabled_styles:text_underline_thickness:value $ l.button:disabled_styles:text_underline_thickness:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.button:disabled_styles:text_underline_offset:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'text-underline-offset: '		$ l.button:disabled_styles:text_underline_offset:value $ l.button:disabled_styles:text_underline_offset:unit		$ ';' $ asciichar( 10 ) }"> </MvIF>
	</MvIF>

	<MvEVAL EXPR = "{ '}' $ asciichar( 10 ) }">

	<MvCOMMENT>
	|
	| Button Size Styles: .<button_classname>.<button_size_classname>
	|
	</MvCOMMENT>

	<MvFOREACH ITERATOR = "l.size" ARRAY = "l.button:sizes" COUNT = "{ l.button:size_count }">
		<MvIF EXPR = "{ ISNULL l.size:classname }">
			<MvFOREACHCONTINUE>
		</MvIF>

		<MvEVAL EXPR = "{ '.' $ l.button:classname $ '.' $ l.size:classname $ asciichar( 10 ) }">
		<MvEVAL EXPR = "{ '{' $ asciichar( 10 ) }">

		<MvIF EXPR = "{ NOT ISNULL l.size:styles:font_size:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'font-size: '		$ l.size:styles:font_size:value $ l.size:styles:font_size:unit				$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.size:styles:line_height:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'line-height: '		$ l.size:styles:line_height:value $ l.size:styles:line_height:unit			$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.size:styles:letter_spacing:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'letter-spacing: '	$ l.size:styles:letter_spacing:value $ l.size:styles:letter_spacing:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.size:styles:padding_top:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'padding-top: '		$ l.size:styles:padding_top:value $ l.size:styles:padding_top:unit			$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.size:styles:padding_right:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'padding-right: '	$ l.size:styles:padding_right:value $ l.size:styles:padding_right:unit		$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.size:styles:padding_bottom:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ 'padding-bottom: '	$ l.size:styles:padding_bottom:value $ l.size:styles:padding_bottom:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>
		<MvIF EXPR = "{ NOT ISNULL l.size:styles:padding_left:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ 'padding-left: '		$ l.size:styles:padding_left:value $ l.size:styles:padding_left:unit		$ ';' $ asciichar( 10 ) }"> </MvIF>

		<MvEVAL EXPR = "{ '}' $ asciichar( 10 ) }">
	</MvFOREACH>
</MvFUNCTION>

<MvFUNCTION NAME = "StyleResource_Generate_Breakpoint" PARAMETERS = "theme var, breakpoint var" STANDARDOUTPUTLEVEL = "">
	<MvIF EXPR = "{ ( l.breakpoint:start:value GT 0 ) AND ( l.breakpoint:end:value GT 0 ) }">
		<MvEVAL EXPR = "{ '@media screen and (min-width: ' $ l.breakpoint:start:value $ l.breakpoint:start:unit $ ') and (max-width: ' $ l.breakpoint:end:value $ l.breakpoint:end:unit $ ')' $ asciichar( 10 ) }">
	<MvELSEIF EXPR = "{ l.breakpoint:start:value GT 0 }">
		<MvEVAL EXPR = "{ '@media screen and (min-width: ' $ l.breakpoint:start:value $ l.breakpoint:start:unit $ ')' $ asciichar( 10 ) }">
	<MvELSEIF EXPR = "{ l.breakpoint:end:value GT 0 }">
		<MvEVAL EXPR = "{ '@media screen and (max-width: ' $ l.breakpoint:end:value $ l.breakpoint:end:unit $ ')' $ asciichar( 10 ) }">
	<MvELSE>
		<MvFUNCTIONRETURN>
	</MvIF>

	<MvEVAL EXPR = "{ '{' $ asciichar( 10 ) }">
		<MvFOREACH ITERATOR = "l.typography" ARRAY = "l.theme:typographies" COUNT = "{ l.theme:typography_count }">
			<MvIF EXPR = "{ ISNULL l.typography:classname }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvREFERENCEARRAY NAME = "l.breakpoint_styles" VARIABLE = "l.typography:breakpoint_styles">
				<MvMEMBER NAME = "{ l.breakpoint:code }">
			</MvREFERENCEARRAY>

			<MvIF EXPR = "{ ISNULL l.breakpoint_styles }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvEVAL EXPR = "{ asciichar( 9 ) $ '.' $ l.typography:classname $ asciichar( 10 ) }">
			<MvEVAL EXPR = "{ asciichar( 9 ) $ '{' $ asciichar( 10 ) }">

			<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:font_size:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'font-size: '		$ l.breakpoint_styles:font_size:value $ l.breakpoint_styles:font_size:unit				$ ';' $ asciichar( 10 ) }"> </MvIF>
			<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:line_height:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'line-height: '		$ l.breakpoint_styles:line_height:value $ l.breakpoint_styles:line_height:unit			$ ';' $ asciichar( 10 ) }"> </MvIF>
			<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:letter_spacing:value }">	<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'letter-spacing: '	$ l.breakpoint_styles:letter_spacing:value $ l.breakpoint_styles:letter_spacing:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>

			<MvEVAL EXPR = "{ asciichar( 9 ) $ '}' $ asciichar( 10 ) }">
		</MvFOREACH>

		<MvFOREACH ITERATOR = "l.button" ARRAY = "l.theme:buttons" COUNT = "{ l.theme:button_count }">
			<MvIF EXPR = "{ ISNULL l.button:classname }">
				<MvFOREACHCONTINUE>
			</MvIF>

			<MvFOREACH ITERATOR = "l.size" ARRAY = "l.button:sizes" COUNT = "{ l.button:size_count }">
				<MvIF EXPR = "{ ISNULL l.size:classname }">
					<MvFOREACHCONTINUE>
				</MvIF>

				<MvREFERENCEARRAY NAME = "l.breakpoint_styles" VARIABLE = "l.size:breakpoint_styles">
					<MvMEMBER NAME = "{ l.breakpoint:code }">
				</MvREFERENCEARRAY>

				<MvIF EXPR = "{ ISNULL l.breakpoint_styles }">
					<MvFOREACHCONTINUE>
				</MvIF>

				<MvEVAL EXPR = "{ asciichar( 9 ) $ '.' $ l.button:classname $ '.' $ l.size:classname $ asciichar( 10 ) }">
				<MvEVAL EXPR = "{ asciichar( 9 ) $ '{' $ asciichar( 10 ) }">

				<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:font_size:value }">			<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'font-size: '		$ l.breakpoint_styles:font_size:value $ l.breakpoint_styles:font_size:unit				$ ';' $ asciichar( 10 ) }"> </MvIF>
				<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:line_height:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'line-height: '		$ l.breakpoint_styles:line_height:value $ l.breakpoint_styles:line_height:unit			$ ';' $ asciichar( 10 ) }"> </MvIF>
				<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:letter_spacing:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'letter-spacing: '	$ l.breakpoint_styles:letter_spacing:value $ l.breakpoint_styles:letter_spacing:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>
				<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:padding_top:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'padding-top: '		$ l.breakpoint_styles:padding_top:value $ l.breakpoint_styles:padding_top:unit			$ ';' $ asciichar( 10 ) }"> </MvIF>
				<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:padding_right:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'padding-right: '	$ l.breakpoint_styles:padding_right:value $ l.breakpoint_styles:padding_right:unit		$ ';' $ asciichar( 10 ) }"> </MvIF>
				<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:padding_bottom:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'padding-bottom: '	$ l.breakpoint_styles:padding_bottom:value $ l.breakpoint_styles:padding_bottom:unit	$ ';' $ asciichar( 10 ) }"> </MvIF>
				<MvIF EXPR = "{ NOT ISNULL l.breakpoint_styles:padding_left:value }">		<MvEVAL EXPR = "{ asciichar( 9 ) $ asciichar( 9 ) $ 'padding-left: '	$ l.breakpoint_styles:padding_left:value $ l.breakpoint_styles:padding_left:unit		$ ';' $ asciichar( 10 ) }"> </MvIF>

				<MvEVAL EXPR = "{ asciichar( 9 ) $ '}' $ asciichar( 10 ) }">
			</MvFOREACH>
		</MvFOREACH>
	<MvEVAL EXPR = "{ '}' $ asciichar( 10 ) }">
</MvFUNCTION>
