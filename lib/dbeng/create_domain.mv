<MIVA STANDARDOUTPUTLEVEL = "">

<MvCOMMENT>
|
| Miva Merchant
|
| This file and the source codes contained herein are the property of
| Miva, Inc.  Use of this file is restricted to the specific terms and
| conditions in the License Agreement associated with this file.  Distribution
| of this file or portions of this file for uses not covered by the License
| Agreement is not allowed without a written agreement signed by an officer of
| Miva, Inc.
|
| Copyright 1998-2024 Miva, Inc.  All rights reserved.
| http://www.miva.com
|
| Prefix         : MER-DBE-CDM-
| Next Error Code: 87   
|
</MvCOMMENT>

<MvFUNCTION NAME = "CreateDataFiles" PARAMETERS = "domain var" STANDARDOUTPUTLEVEL = "" ERROROUTPUTLEVEL = "">
	<MvIF EXPR = "{ ( g.MerchantPath ) AND ( NOT fexists( g.MerchantPath ) ) }">
		<MvIF EXPR = "{ NOT fmkdir( g.MerchantPath ) }">
			<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00001', 'Failed to create directory \'' $ g.MerchantPath $ '\': ' $ file_last_error() ) }">
		</MvIF>
	</MvIF>

	<MvCOMMENT>
	|
	| Domain
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE Domain
						  (
							name		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							license		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 25 )		$ ',
							partner		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							version		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )		$ ',
							owner		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							email		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							company		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							address		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							city		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							state		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							zip			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							country		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							phone		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							fax			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							mm_url		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mm_surl		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mm_secure	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							mmc_domn	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mmc_path	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mmc_site	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )		$ ',
							mmc_output	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )		$ ',
							mmc_sdomn	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mmc_spath	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mmc_ssite	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )		$ ',
							mm_params	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )		$ ',
							admin_surl	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							admin_burl	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							image_root	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							img_sroot	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							base_url	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							base_surl	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mod_root	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mod_sroot	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mmcexp		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							mmcsexp		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							admexp		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							mailhost	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mailmeth	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							mail_angl 	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							lo_time		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							li_trys		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							logindelay	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							upgd_ignr	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )		$ ',
							img_ext		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							img_qual	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							strictcode	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							verify_ip	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							lic_dt		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							lic_at		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							lic_lo		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							pw_max_age	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							pw_min_len	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							pw_complex	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							pw_reuse	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							stsl_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							log_local	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							log_mask	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							ciphers		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							highsess	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							highuser	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							highactv	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							highsessdt	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							mailport	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							mailuser	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							mailpass	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							mailflags	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							maxadmsess	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							maxadmsig	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()			$ ',
							maxadmexp	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							javascript	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )		$ ',
							padss_time	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							engmnt_jdn	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00029', g.MvQUERY_Error ) }">
	</MvIF>

    <MvASSIGN NAME = "l.domain:name"		VALUE = "">
    <MvASSIGN NAME = "l.domain:stsl_id"		VALUE = 0>
    <MvASSIGN NAME = "l.domain:license"		VALUE = "">
	<MvASSIGN NAME = "l.domain:partner"		VALUE = "Unknown">
    <MvASSIGN NAME = "l.domain:version"		VALUE = "{ g.Merchant_Version }">
    <MvASSIGN NAME = "l.domain:owner"		VALUE = "">
    <MvASSIGN NAME = "l.domain:email"		VALUE = "">
    <MvASSIGN NAME = "l.domain:company"		VALUE = "">
    <MvASSIGN NAME = "l.domain:address"		VALUE = "">
    <MvASSIGN NAME = "l.domain:city"		VALUE = "">
    <MvASSIGN NAME = "l.domain:state"		VALUE = "">
    <MvASSIGN NAME = "l.domain:zip"			VALUE = "">
    <MvASSIGN NAME = "l.domain:country"		VALUE = "">
    <MvASSIGN NAME = "l.domain:phone"		VALUE = "">
    <MvASSIGN NAME = "l.domain:fax"			VALUE = "">
    <MvASSIGN NAME = "l.domain:mm_url"		VALUE = "">
    <MvASSIGN NAME = "l.domain:mm_surl"		VALUE = "">
    <MvASSIGN NAME = "l.domain:mm_secure"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:mmc_domn"	VALUE = "">
	<MvASSIGN NAME = "l.domain:mmc_site"	VALUE = "Lax">
	<MvASSIGN NAME = "l.domain:mmc_path"	VALUE = "/">
	<MvASSIGN NAME = "l.domain:mmc_output"	VALUE = "http">
	<MvASSIGN NAME = "l.domain:mmc_sdomn"	VALUE = "">
	<MvASSIGN NAME = "l.domain:mmc_spath"	VALUE = "/">
	<MvASSIGN NAME = "l.domain:mmc_ssite"	VALUE = "Strict">
	<MvASSIGN NAME = "l.domain:mm_params"	VALUE = "switch">
    <MvASSIGN NAME = "l.domain:admin_surl"	VALUE = "">
    <MvASSIGN NAME = "l.domain:admin_burl"	VALUE = "">
    <MvASSIGN NAME = "l.domain:image_root"	VALUE = "">
    <MvASSIGN NAME = "l.domain:img_sroot"	VALUE = "">
    <MvASSIGN NAME = "l.domain:base_url"	VALUE = "">
    <MvASSIGN NAME = "l.domain:base_surl"	VALUE = "">
    <MvASSIGN NAME = "l.domain:mod_root"	VALUE = "">
    <MvASSIGN NAME = "l.domain:mod_sroot"	VALUE = "">
    <MvASSIGN NAME = "l.domain:mmcexp"		VALUE = "{ 60 * 24 * 365 }">
    <MvASSIGN NAME = "l.domain:mmcsexp"		VALUE = 0>
    <MvASSIGN NAME = "l.domain:admexp"		VALUE = 15>
    <MvASSIGN NAME = "l.domain:mailhost"	VALUE = "">
    <MvASSIGN NAME = "l.domain:mailmeth"	VALUE = "">
	<MvASSIGN NAME = "l.domain:mail_angl"	VALUE = 0>
    <MvASSIGN NAME = "l.domain:lo_time"		VALUE = 30>
    <MvASSIGN NAME = "l.domain:li_trys"		VALUE = 3>
	<MvASSIGN NAME = "l.domain:logindelay"	VALUE = 5000>
    <MvASSIGN NAME = "l.domain:img_ext"		VALUE = "gif,jpg,jpeg,jpe,xbm,png,webp,pdf">
    <MvASSIGN NAME = "l.domain:img_qual"	VALUE = 80>
    <MvASSIGN NAME = "l.domain:strictcode"	VALUE = 1>
    <MvASSIGN NAME = "l.domain:verify_ip"	VALUE = 1>
    <MvASSIGN NAME = "l.domain:lic_dt"		VALUE = 0>
    <MvASSIGN NAME = "l.domain:lic_at"		VALUE = 0>
    <MvASSIGN NAME = "l.domain:lic_lo"		VALUE = 0>
	<MvASSIGN NAME = "l.domain:pw_max_age"	VALUE = 90>
	<MvASSIGN NAME = "l.domain:pw_min_len"	VALUE = 7>
	<MvASSIGN NAME = "l.domain:pw_complex"	VALUE = 1>
	<MvASSIGN NAME = "l.domain:pw_reuse"	VALUE = 4>
	<MvASSIGN NAME = "l.domain:log_local"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:log_mask"	VALUE = "warning,notice,info,debug">
	<MvASSIGN NAME = "l.domain:ciphers"		VALUE = "{ [ g.Library_Filename_Crypto ].Encryption_Default_Preferred_Ciphers() }">
	<MvASSIGN NAME = "l.domain:highsess"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:highuser"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:highactv"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:highsessdt"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:mailport"	VALUE = 25>
	<MvASSIGN NAME = "l.domain:mailuser"	VALUE = "">
	<MvASSIGN NAME = "l.domain:mailpass"	VALUE = "">
	<MvASSIGN NAME = "l.domain:mailflags"	VALUE = "">
	<MvASSIGN NAME = "l.domain:maxadmsess"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:maxadmsig"	VALUE = "">
	<MvASSIGN NAME = "l.domain:maxadmexp"	VALUE = 0>
	<MvASSIGN NAME = "l.domain:javascript"	VALUE = "combined">
	<MvASSIGN NAME = "l.domain:padss_time"	VALUE = "{ s.time_t + 2592000 }">
	<MvASSIGN NAME = "l.domain:engmnt_jdn"	VALUE = 0>

    <MvIF EXPR = "{ NOT Domain_Insert( l.domain ) }">
        <MvFUNCTIONRETURN VALUE = 0 >
    </MvIF>

	<MvCOMMENT>
	|
	| APITokens
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE APITokens
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							enabled		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							name		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )	$ ',
							token		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )	$ ',
							ip_range	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							signkey		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							ts_window	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							req_sig		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							req_ts		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00068', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX APITokens_1 ON APITokens ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00069', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX APITokens_2 ON APITokens ( token )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00070', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| APITokenXFunction
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE APITokenXFunction
						  (
							token_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							store_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							function	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00071', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX APITokenXFunction_1 ON APITokenXFunction ( token_id, store_id, function )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00072', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| APITokenXGroup
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE APITokenXGroup
						  (
							token_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER() $ ',
							store_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER() $ ',
							group_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER() $ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00073', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX APITokenXGroup_1 ON APITokenXGroup ( token_id, store_id, group_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00074', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| TwoFactorSettings
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE TwoFactorSettings
						  (
							totp_step	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							totp_start	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							totp_wndw	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							totp_dig	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							ycld_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							ycld_key	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							ycld_url	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							ycld_tout	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							ycld_sl		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00058', g.MvQUERY_Error ) }">
	</MvIF>

	<MvEVAL EXPR = "{ [ g.Library_Filename_Crypto ].Default_TwoFactorSettings( l.twofactorsettings ) }">

	<MvIF EXPR = "{ NOT TwoFactorSettings_Insert( l.twofactorsettings ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| Stores
	|
	</MvCOMMENT>

	<MvQUERY NAME 	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE Stores
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							manager_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							code		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							license		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 25 )		$ ',
							name		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							icon		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							owner		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							email		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							company		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							address		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )		$ ',
							city		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							state		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							zip			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							phone		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							fax			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							country		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							wtunits		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )		$ ',
							wtunitcode	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 5 )		$ ',
							dmunitcode	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 5 )		$ ',
							baskexp		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							deferbask	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							trackhits	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							pgrp_ovlp	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )		$ ',
							ui_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							tax_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							currncy_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							boxpack_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							addrval_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							mnt_warn	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()			$ ',
							mnt_close	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()			$ ',
							mnt_time	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							mnt_no_new	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							mnt_ips		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()			$ ',
							omin_quant	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							omin_price	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_NUMBER( 10, 2 )	$ ',
							omin_all	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							omin_msg	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()			$ ',
							crypt_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							req_ship	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							req_tax		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							req_frship	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							branch_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							charset		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 25 )		$ ',
							schtsk_adv	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							schtsk_min	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							cache_exp	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							cache_ver	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							cache_type	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )		$ ',
							cache_comp	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()			$ ',
							redishost	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							redisport	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							redisto		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							redispwd	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )		$ ',
							redisex		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()		$ ',
							cacheset	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()			$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00002', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX Stores_1 ON Stores ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00003', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Stores_2 ON Stores ( code )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00004', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Stores_3 ON Stores ( license )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00005', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| TrackingLinks
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE TrackingLinks
						  (
							type	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )	$ ',
							url		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00032', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX TrackingLinks_1 ON TrackingLinks ( type )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00033', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| DomainKeys
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE DomainKeys
						  (
							type																			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )	$ ',
							' $ [ g.Library_Filename_Native_DBAPI ].DB_Escape_Identifier( 'maxvalue' ) $ '	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00006', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX DomainKeys_1 ON DomainKeys ( type )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00007', g.MvQUERY_Error ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'Modules' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'Users' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'APITokens' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'Stores' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'Groups' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'Countries' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT SEOSettings_Create() }">
		<MvFUNCTIONRETURN VALUE = 0 >
	</MvIF>

	<MvCOMMENT>
	|
	| Modules
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE Modules
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							code		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )	$ ',
							name		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )	$ ',
							provider	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )	$ ',
							api_ver		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )	$ ',
							version		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )	$ ',
							module		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )	$ ',
							refcount	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							active		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							priority	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00008', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX Modules_1 ON Modules ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00009', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Modules_2 ON Modules ( code )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00010', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| ModuleXFeature
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE ModuleXFeature
						  (
							module_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							feature		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 30 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00011', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX ModuleXFeature_1 ON ModuleXFeature ( feature, module_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00012', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX ModuleXFeature_2 ON ModuleXFeature ( module_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00013', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| Users
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE Users
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							parent_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							name		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 40 )	$ ',
							email		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 ) $ ',
							cellphone	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 ) 	$ ',
							ip_range	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							icon		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							descrip		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							password	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							pw_created	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							prior_pw1	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							prior_pw2	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							prior_pw3	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							prior_pw4	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							tf_type		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )	$ ',
							ssh_pubkey	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							page_len	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							mmbl_count	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							mmbl_sort	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							admin		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							smod		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							t_fails		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							c_fails		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							lo_date		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							mail_ok		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							license_ok	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							hover_on	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							forcepwchg	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							vfybrowser	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							forcetf		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							exp_date	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							wwdescrip	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							lictype		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 10 )	$ ',
							license		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							lic_dt		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00014', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX Users_1 ON Users ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00015', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Users_2 ON Users ( name )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00016', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserTOTPTokens
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE UserTOTPTokens
						  (
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							totp_key	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00059', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX UserTOTPTokens_1 ON UserTOTPTokens ( user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00060', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserYubiCloudTokens
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE UserYubiCloudTokens
						  (
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							public_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 12 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00061', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX UserYubiCloudTokens_1 ON UserYubiCloudTokens ( user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00062', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX UserYubiCloudTokens_2 ON UserYubiCloudTokens ( public_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00063', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserWebAuthnTokens
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE UserWebAuthnTokens
						  (
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							pubkey		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							signcount	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00064', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX UserWebAuthnTokens_1 ON UserWebAuthnTokens ( user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00065', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserBackupTokens
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE UserBackupTokens
						  (
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							token		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00066', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX UserBackupTokens_1 ON UserBackupTokens ( user_id, token )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00067', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserXBrowser
	|
	</MvCOMMENT>

	<MvQUERY NAME 	= "Merchant"
			 QUERY 	= "{ 'CREATE TABLE UserXBrowser
			 			  (
			 			  	user_id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							browser_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 40 )	$ ',
							authcode		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							authorized		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ '
			 			  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00055', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX UserXBrowser_1 ON UserXBrowser ( user_id, browser_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00056', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX UserXBrowser_2 ON UserXBrowser ( browser_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00057', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserPasswordReset
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE UserPasswordReset
						  (
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							token		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )	$ ',
							dt_created	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00083', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX UserPasswordReset_1 ON UserPasswordReset ( user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00084', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX UserPasswordReset_2 ON UserPasswordReset ( token )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00085', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX UserPasswordReset_3 ON UserPasswordReset ( dt_created )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00086', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| Groups
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE Groups
						  (
							id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							name	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 40 )	$ ',
							descrip	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00047', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "CREATE UNIQUE INDEX Groups_1 ON Groups ( id )">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00048', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "CREATE INDEX Groups_2 ON Groups ( name )">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00049', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| GroupPrivileges
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE GroupPrivileges
						  (
							group_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							privilege	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )	$ ',
							viewpriv	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							addpriv		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							modifypriv	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							deletepriv	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00050', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX GroupPrivileges_1 ON GroupPrivileges ( group_id, privilege )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00051', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserXGroup
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE UserXGroup
						  (
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER() $ ',
							store_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER() $ ',
							group_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER() $ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00052', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "CREATE UNIQUE INDEX UserXGroup_1 ON UserXGroup ( user_id, store_id, group_id )">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00053', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "CREATE INDEX UserXGroup_2 ON UserXGroup ( group_id )">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00054', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| DomainPrivileges
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE DomainPrivileges
						  (
							privilege	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )	$ ',
							name		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 100 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00020', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "CREATE INDEX DomainPrivileges_1 ON DomainPrivileges ( privilege )">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00021', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "CREATE INDEX DomainPrivileges_2 ON DomainPrivileges ( name )">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00022', g.MvQUERY_Error ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'STOR', 'Store Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'STAT', 'States' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'CTGY', 'Categories' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'PROD', 'Products' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'STAX', 'Sales Tax Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'SHIP', 'Shipping Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'PMNT', 'Payment Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'CPCD', 'Customer Payment Cards' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'FUFL', 'Order Fulfillment Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'ORDR', 'Order Processing' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'LOGM', 'Logging Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'SYSM', 'System Extension Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'CURR', 'Currency Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'SUTL', 'Store Utility Settings' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'STCT', 'Countries' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'CRYP', 'Store Encryption' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'NOTE', 'Customer, Business Account and Order Notes' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'IMGS', 'Images' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainPrivilege_Insert( 'RBSK', 'Review Baskets' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| AdminSessions
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE AdminSessions
						  (
							authorized	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							sequence	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							session_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 40 )	$ ',
							cookie		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 40 )	$ ',
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							browser_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 40 )	$ ',
							dt_created	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							lastupdate	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							remoteaddr	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )	$ ',
							forcepwchg	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							vfybrowser	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							forcetf		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_BOOL()		$ ',
							tf_data		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							licerror	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00023', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX AdminSessions_1 ON AdminSessions ( session_id, remoteaddr )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00024', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX AdminSessions_2 ON AdminSessions ( cookie, remoteaddr )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00034', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX AdminSessions_3 ON AdminSessions ( dt_created, sequence )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00045', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX AdminSessions_4 ON AdminSessions ( user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00046', g.MvQUERY_Error ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'AdminSessions' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| Countries
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE Countries
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							name		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 50 )	$ ',
							alpha		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 2 )	$ ',
							iso_code	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00025', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX Countries_1 ON Countries ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00026', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Countries_2 ON Countries ( alpha )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00027', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Countries_3 ON Countries ( name )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00028', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| UserPreferences
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE UserPreferences
						  (
							store_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							mm_key		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							mm_keymd5	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 32 )	$ ',
							mm_value	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00035', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX UserPreferences_1 ON UserPreferences ( store_id, user_id, mm_keymd5 )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00036', g.MvQUERY_Error ) }">
	</MvIF>

	<MvCOMMENT>
	|
	| History
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE History
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							store_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							title		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							action		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							datetime	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 13 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00039', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX History_1 ON History ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00040', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX History_2 ON History ( store_id, user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00041', g.MvQUERY_Error ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'History' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| Bookmarks
	|
	</MvCOMMENT>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE TABLE Bookmarks
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							store_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							disp_order	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							title		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							action		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00042', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE UNIQUE INDEX Bookmarks_1 ON Bookmarks ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00043', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Bookmarks_2 ON Bookmarks ( user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00080', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Bookmarks_3 ON Bookmarks ( store_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00081', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME	= "Merchant"
			 QUERY	= "{ 'CREATE INDEX Bookmarks_4 ON Bookmarks ( disp_order, store_id, user_id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00082', g.MvQUERY_Error ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'Bookmark' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'BookmarkDisplayOrder' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| PrintQueues
	|
	</MvCOMMENT>

	<MvQUERY NAME 	= "Merchant"
			 QUERY 	= "{ 'CREATE TABLE PrintQueues
						  (
							id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							descrip	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00075', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME 	= "Merchant"
			 QUERY 	= "{ 'CREATE UNIQUE INDEX PrintQueues_1 ON PrintQueues ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00076', g.MvQUERY_Error ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'PrintQueues' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| PrintQueueJobs
	|
	</MvCOMMENT>

	<MvQUERY NAME 	= "Merchant"
			 QUERY 	= "{ 'CREATE TABLE PrintQueueJobs
						  (
							id			' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							queue_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							store_id	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							user_id		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ ',
							descrip		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 254 )	$ ',
							job_fmt		' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_CHAR( 20 )	$ ',
							job_data	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_MEMO()		$ ',
							dt_created	' $ [ g.Library_Filename_Native_DBAPI ].DB_Type_INTEGER()	$ '
						  )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00077', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME 	= "Merchant"
			 QUERY 	= "{ 'CREATE UNIQUE INDEX PrintQueueJobs_1 ON PrintQueueJobs ( id )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00078', g.MvQUERY_Error ) }">
	</MvIF>

	<MvQUERY NAME 	= "Merchant"
			 QUERY 	= "{ 'CREATE INDEX PrintQueueJobs_2 ON PrintQueueJobs ( queue_id, dt_created )' }">
	<MvIF EXPR = "{ g.MvQUERY_Error }">
		<MvFUNCTIONRETURN VALUE = "{ [ g.Library_Filename_Utilities ].Error( 'MER-DBE-CDM-00079', g.MvQUERY_Error ) }">
	</MvIF>

	<MvIF EXPR = "{ NOT DomainKey_Insert( 'PrintQueueJobs' ) }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvCOMMENT>
	|
	| Features
	|
	</MvCOMMENT>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_AFF_DB ].AFF_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_ATT_DB ].ATT_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_CUS_DB ].CUS_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_GFT_DB ].GFT_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_AGR_DB ].AGR_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_PGR_DB ].PGR_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_INV_DB ].INV_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_IMP_DB ].IMP_CreateDataFiles() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_USL_DB ].Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_TUI_DB ].TUI_CreateDataFiles() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_UPG_DB ].UPG_CreateDataFiles() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_URI_DB ].URI_CreateDataFiles() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_RPT_DB ].RPT_CreateDataFiles() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_DDL_DB ].DDL_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_FDS_DB ].FDS_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_SCH_DB ].SCH_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_SUB_DB ].SUB_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_FCT_DB ].FCT_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_CPD_DB ].CPD_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_PGB_DB ].PGB_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvIF EXPR = "{ NOT [ g.Module_Feature_FEL_DB ].FEL_Create_Data_Files() }">
		<MvFUNCTIONRETURN VALUE = 0>
	</MvIF>

	<MvFUNCTIONRETURN VALUE = 1>
</MvFUNCTION>
